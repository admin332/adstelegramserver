

## Ğ¦ĞµĞ»ÑŒ
Ğ ĞµĞ°Ğ»Ğ¸Ğ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ¿Ñ€Ğ¾Ğ´Ğ²Ğ¸Ğ½ÑƒÑ‚ÑƒÑ Ğ°Ğ½Ğ°Ğ»Ğ¸Ñ‚Ğ¸ĞºÑƒ ĞºĞ°Ğ½Ğ°Ğ»Ğ¾Ğ² Ñ Ğ²ĞµÑ€Ğ¸Ñ„Ğ¸Ñ†Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğ¼Ğ¸ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğ¼Ğ¸ Ğ¸Ğ· Telegram Ğ´Ğ»Ñ Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¸Ñ Ñ‚Ñ€ĞµĞ±Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğ¹ ĞºĞ¾Ğ½ĞºÑƒÑ€ÑĞ°: Average Views, Engagement Rate (ER), ÑĞ·Ñ‹ĞºĞ¾Ğ²Ğ°Ñ ÑÑ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ°, Ğ¿Ñ€Ğ¾Ñ†ĞµĞ½Ñ‚ Premium-Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ĞµĞ¹.

## Ğ¢ĞµÑ…Ğ½Ğ¸Ñ‡ĞµÑĞºĞ°Ñ Ñ€ĞµĞ°Ğ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ

### ĞĞ³Ñ€Ğ°Ğ½Ğ¸Ñ‡ĞµĞ½Ğ¸Ñ Bot API
- `stats.getBroadcastStats` (Ğ¿Ğ¾Ğ»Ğ½Ğ°Ñ ÑÑ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ° Ñ ÑĞ·Ñ‹ĞºĞ°Ğ¼Ğ¸, Ğ³Ñ€Ğ°Ñ„Ğ¸ĞºĞ°Ğ¼Ğ¸) â€” ÑÑ‚Ğ¾ **MTProto API**, Ğ½ĞµĞ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ñ‹Ğ¹ Ğ´Ğ»Ñ Ğ±Ğ¾Ñ‚Ğ¾Ğ²
- Bot API Ğ½Ğµ Ğ¿Ñ€ĞµĞ´Ğ¾ÑÑ‚Ğ°Ğ²Ğ»ÑĞµÑ‚ Ğ¿Ñ€ÑĞ¼Ğ¾Ğ³Ğ¾ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ° Ğº ÑÑ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞµ ĞºĞ°Ğ½Ğ°Ğ»Ğ°
- Bot API **Ğ½Ğµ Ğ¼Ğ¾Ğ¶ĞµÑ‚** Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ `views` Ğ¿Ğ¾ÑÑ‚Ğ¾Ğ² Ğ½Ğ°Ğ¿Ñ€ÑĞ¼ÑƒÑ Ñ‡ĞµÑ€ĞµĞ· `getUpdates`

### Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ: Ğ’ĞµĞ±-ÑĞºÑ€Ğ°Ğ¿Ğ¸Ğ½Ğ³ t.me
Telegram Ğ¿Ñ€ĞµĞ´Ğ¾ÑÑ‚Ğ°Ğ²Ğ»ÑĞµÑ‚ Ğ¿ÑƒĞ±Ğ»Ğ¸Ñ‡Ğ½Ñ‹Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¿Ğ¾ÑÑ‚Ğ¾Ğ² Ñ‡ĞµÑ€ĞµĞ· `https://t.me/{username}/{message_id}?embed=1`:
- ĞšĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾ Ğ¿Ñ€Ğ¾ÑĞ¼Ğ¾Ñ‚Ñ€Ğ¾Ğ² ĞºĞ°Ğ¶Ğ´Ğ¾Ğ³Ğ¾ Ğ¿Ğ¾ÑÑ‚Ğ°
- Ğ”Ğ°Ñ‚Ğ° Ğ¿ÑƒĞ±Ğ»Ğ¸ĞºĞ°Ñ†Ğ¸Ğ¸
- Ğ­Ñ‚Ğ¾ Ğ»ĞµĞ³Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ ÑĞ¿Ğ¾ÑĞ¾Ğ± Ğ¿Ğ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ñ "Verified stats"

## ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° Ñ€ĞµÑˆĞµĞ½Ğ¸Ñ

```text
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Channel Page     â”‚â”€â”€â”€â”€â–ºâ”‚  refresh-channel-stats   â”‚
â”‚   (Frontend)       â”‚     â”‚    (Edge Function)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                        â”‚
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â–¼                            â–¼                            â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ Bot API         â”‚         â”‚ t.me Embed       â”‚         â”‚ Database       â”‚
  â”‚ getChatMemberCountâ”‚       â”‚ Posts Scraping   â”‚         â”‚ Update         â”‚
  â”‚ getChat         â”‚         â”‚ (Last 10 posts)  â”‚         â”‚ channels table â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚                            â”‚                            â–²
           â”‚                            â”‚                            â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   Stats:
                              - subscribers_count
                              - avg_views (calculated)
                              - engagement (ER %)
                              - recent_posts_views (JSONB)
```

## Ğ­Ñ‚Ğ°Ğ¿Ñ‹ Ñ€ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸

### Ğ­Ñ‚Ğ°Ğ¿ 1: ĞœĞ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ñ Ğ±Ğ°Ğ·Ñ‹ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…

Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ½Ğ¾Ğ²Ñ‹Ğµ ĞºĞ¾Ğ»Ğ¾Ğ½ĞºĞ¸ Ğ´Ğ»Ñ Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ñ Ñ€Ğ°ÑÑˆĞ¸Ñ€ĞµĞ½Ğ½Ğ¾Ğ¹ Ğ°Ğ½Ğ°Ğ»Ğ¸Ñ‚Ğ¸ĞºĞ¸:

```sql
ALTER TABLE public.channels
ADD COLUMN IF NOT EXISTS recent_posts_stats JSONB DEFAULT '[]',
ADD COLUMN IF NOT EXISTS language_stats JSONB DEFAULT NULL,
ADD COLUMN IF NOT EXISTS premium_percentage NUMERIC DEFAULT NULL,
ADD COLUMN IF NOT EXISTS notifications_enabled NUMERIC DEFAULT NULL,
ADD COLUMN IF NOT EXISTS growth_rate NUMERIC DEFAULT NULL,
ADD COLUMN IF NOT EXISTS top_hours JSONB DEFAULT NULL;
```

Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° `recent_posts_stats`:
```json
[
  { "message_id": 123, "views": 15000, "date": "2026-01-26" },
  { "message_id": 122, "views": 14500, "date": "2026-01-25" },
  ...
]
```

### Ğ­Ñ‚Ğ°Ğ¿ 2: ĞĞ±Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ Edge Function `refresh-channel-stats`

**Ğ¤Ğ°Ğ¹Ğ»**: `supabase/functions/refresh-channel-stats/index.ts`

#### 2.1 Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ñ ÑĞºÑ€Ğ°Ğ¿Ğ¸Ğ½Ğ³Ğ° Ğ¿Ğ¾ÑÑ‚Ğ¾Ğ²

```typescript
async function fetchPostViews(
  username: string, 
  messageId: number
): Promise<{ views: number; date: string } | null> {
  try {
    const url = `https://t.me/${username}/${messageId}?embed=1`;
    const response = await fetch(url);
    const html = await response.text();
    
    // ĞŸĞ°Ñ€ÑĞ¸Ğ¼ views Ğ¸Ğ· HTML: <span class="tgme_widget_message_views">15.2K</span>
    const viewsMatch = html.match(/tgme_widget_message_views[^>]*>([^<]+)</);
    const dateMatch = html.match(/datetime="([^"]+)"/);
    
    if (!viewsMatch) return null;
    
    const viewsText = viewsMatch[1].trim();
    const views = parseViewsText(viewsText); // "15.2K" â†’ 15200
    const date = dateMatch ? dateMatch[1].split('T')[0] : null;
    
    return { views, date };
  } catch (error) {
    console.error(`[refresh] Failed to fetch post ${messageId}:`, error);
    return null;
  }
}

function parseViewsText(text: string): number {
  const num = parseFloat(text.replace(/[^0-9.]/g, ''));
  if (text.includes('K')) return Math.round(num * 1000);
  if (text.includes('M')) return Math.round(num * 1000000);
  return Math.round(num);
}
```

#### 2.2 Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ ÑĞ±Ğ¾Ñ€ ÑÑ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ¸ Ğ¿Ğ¾ÑĞ»ĞµĞ´Ğ½Ğ¸Ñ… 10 Ğ¿Ğ¾ÑÑ‚Ğ¾Ğ²

```typescript
async function collectRecentPostsStats(
  username: string,
  startMessageId: number
): Promise<{ views: number; messageId: number; date: string }[]> {
  const stats: { views: number; messageId: number; date: string }[] = [];
  
  // ĞŸÑ€Ğ¾Ğ±ÑƒĞµĞ¼ Ğ½Ğ°Ğ¹Ñ‚Ğ¸ Ğ¿Ğ¾ÑĞ»ĞµĞ´Ğ½Ğ¸Ğµ 10 Ğ¿Ğ¾ÑÑ‚Ğ¾Ğ² (Ñ Ğ·Ğ°Ğ¿Ğ°ÑĞ¾Ğ¼ Ğ½Ğ° Ğ¿Ñ€Ğ¾Ğ¿ÑƒÑĞºĞ¸)
  for (let i = 0; i < 20 && stats.length < 10; i++) {
    const msgId = startMessageId - i;
    if (msgId <= 0) break;
    
    const postData = await fetchPostViews(username, msgId);
    if (postData && postData.views > 0) {
      stats.push({
        messageId: msgId,
        views: postData.views,
        date: postData.date || new Date().toISOString().split('T')[0],
      });
    }
  }
  
  return stats;
}
```

#### 2.3 Ğ’Ñ‹Ñ‡Ğ¸ÑĞ»Ğ¸Ñ‚ÑŒ Ğ¼ĞµÑ‚Ñ€Ğ¸ĞºĞ¸

```typescript
function calculateMetrics(
  subscribersCount: number,
  recentPosts: { views: number }[]
): { avgViews: number; engagement: number } {
  if (recentPosts.length === 0) {
    return { avgViews: 0, engagement: 0 };
  }
  
  const totalViews = recentPosts.reduce((sum, p) => sum + p.views, 0);
  const avgViews = Math.round(totalViews / recentPosts.length);
  
  // ER = (Ğ¡Ñ€ĞµĞ´Ğ½Ğ¸Ğµ Ğ¿Ñ€Ğ¾ÑĞ¼Ğ¾Ñ‚Ñ€Ñ‹ / ĞŸĞ¾Ğ´Ğ¿Ğ¸ÑÑ‡Ğ¸ĞºĞ¸) Ã— 100%
  const engagement = subscribersCount > 0 
    ? Math.round((avgViews / subscribersCount) * 100 * 10) / 10 
    : 0;
  
  return { avgViews, engagement };
}
```

#### 2.4 ĞĞ°Ğ¹Ñ‚Ğ¸ Ğ¿Ğ¾ÑĞ»ĞµĞ´Ğ½Ğ¸Ğ¹ message_id ĞºĞ°Ğ½Ğ°Ğ»Ğ°

```typescript
async function findLatestMessageId(username: string): Promise<number | null> {
  // Ğ¡Ñ‚Ñ€Ğ°Ñ‚ĞµĞ³Ğ¸Ñ: Ğ½Ğ°Ñ‡Ğ¸Ğ½Ğ°ĞµĞ¼ Ñ Ğ±Ğ¾Ğ»ÑŒÑˆĞ¾Ğ³Ğ¾ Ñ‡Ğ¸ÑĞ»Ğ° Ğ¸ ÑĞ¿ÑƒÑĞºĞ°ĞµĞ¼ÑÑ
  // Ğ¸Ğ»Ğ¸ Ğ¿Ğ°Ñ€ÑĞ¸Ğ¼ Ğ³Ğ»Ğ°Ğ²Ğ½ÑƒÑ ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ñƒ ĞºĞ°Ğ½Ğ°Ğ»Ğ°
  try {
    const response = await fetch(`https://t.me/s/${username}`);
    const html = await response.text();
    
    // Ğ˜Ñ‰ĞµĞ¼ Ğ¿Ğ¾ÑĞ»ĞµĞ´Ğ½Ğ¸Ğ¹ post ID Ğ² HTML
    const matches = html.matchAll(/data-post="[^/]+\/(\d+)"/g);
    const ids = [...matches].map(m => parseInt(m[1]));
    
    if (ids.length > 0) {
      return Math.max(...ids);
    }
    return null;
  } catch (error) {
    console.error(`[refresh] Failed to find latest message:`, error);
    return null;
  }
}
```

### Ğ­Ñ‚Ğ°Ğ¿ 3: ĞĞ±Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ UI â€” ĞĞ¾Ğ²Ñ‹Ğ¹ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚ `ChannelAnalytics`

**Ğ¤Ğ°Ğ¹Ğ»**: `src/components/channel/ChannelAnalytics.tsx`

ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚ Ğ² ÑÑ‚Ğ¸Ğ»Ğµ Apple Ñ ĞºĞ°Ñ€Ñ‚Ğ¾Ñ‡ĞºĞ°Ğ¼Ğ¸ Ğ¸ Ğ¿Ñ€Ğ¾Ğ³Ñ€ĞµÑÑ-Ğ±Ğ°Ñ€Ğ°Ğ¼Ğ¸:

```tsx
interface ChannelAnalyticsProps {
  subscribers: number;
  avgViews: number;
  engagement: number;
  recentPosts?: { messageId: number; views: number; date: string }[];
  languageStats?: { language: string; percentage: number }[];
  premiumPercentage?: number;
}
```

UI ÑĞ»ĞµĞ¼ĞµĞ½Ñ‚Ñ‹:
1. **Engagement Rate Card** â€” Ğ±Ğ¾Ğ»ÑŒÑˆĞ°Ñ ĞºĞ°Ñ€Ñ‚Ğ¾Ñ‡ĞºĞ° Ñ Ğ¿Ñ€Ğ¾Ñ†ĞµĞ½Ñ‚Ğ¾Ğ¼ Ğ¸ Ñ†Ğ²ĞµÑ‚Ğ¾Ğ²Ñ‹Ğ¼ Ğ¸Ğ½Ğ´Ğ¸ĞºĞ°Ñ‚Ğ¾Ñ€Ğ¾Ğ¼ (Ğ·ĞµĞ»ĞµĞ½Ñ‹Ğ¹ > 20%, Ğ¶ĞµĞ»Ñ‚Ñ‹Ğ¹ 10-20%, ĞºÑ€Ğ°ÑĞ½Ñ‹Ğ¹ < 10%)
2. **Average Views Card** â€” Ñ Ñ‚Ñ€ĞµĞ½Ğ´Ğ¾Ğ¼ Ñ€Ğ¾ÑÑ‚Ğ°/Ğ¿Ğ°Ğ´ĞµĞ½Ğ¸Ñ
3. **Recent Posts Chart** â€” Ğ¼Ğ¸Ğ½Ğ¸Ğ°Ñ‚ÑÑ€Ğ½Ñ‹Ğ¹ Ğ±Ğ°Ñ€Ñ‡Ğ°Ñ€Ñ‚ Ğ¿Ğ¾ÑĞ»ĞµĞ´Ğ½Ğ¸Ñ… 10 Ğ¿Ğ¾ÑÑ‚Ğ¾Ğ²
4. **Language Distribution** â€” Ğ³Ğ¾Ñ€Ğ¸Ğ·Ğ¾Ğ½Ñ‚Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ Ğ¿Ñ€Ğ¾Ğ³Ñ€ĞµÑÑ-Ğ±Ğ°Ñ€Ñ‹
5. **Premium Users** â€” ĞºÑ€ÑƒĞ³Ğ¾Ğ²Ğ¾Ğ¹ Ğ¸Ğ½Ğ´Ğ¸ĞºĞ°Ñ‚Ğ¾Ñ€ Ğ¿Ñ€Ğ¾Ñ†ĞµĞ½Ñ‚Ğ°

### Ğ­Ñ‚Ğ°Ğ¿ 4: ĞĞ±Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ñƒ Channel

**Ğ¤Ğ°Ğ¹Ğ»**: `src/pages/Channel.tsx`

Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ ÑĞµĞºÑ†Ğ¸Ñ "Verified Analytics" Ñ Ğ½Ğ¾Ğ²Ñ‹Ğ¼ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ¾Ğ¼:

```tsx
{/* Verified Analytics Section */}
<motion.div className="px-4 mt-6">
  <div className="flex items-center gap-2 mb-3">
    <BadgeCheck className="h-5 w-5 text-primary" />
    <h2 className="text-lg font-semibold">Verified Analytics</h2>
    <span className="text-xs text-muted-foreground">from Telegram</span>
  </div>
  <ChannelAnalytics
    subscribers={channel.subscribers}
    avgViews={channel.avgViews}
    engagement={channel.engagement}
    recentPosts={channel.recentPostsStats}
  />
</motion.div>
```

### Ğ­Ñ‚Ğ°Ğ¿ 5: ĞĞ±Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ Ğ¸Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹ÑÑ‹

**Ğ¤Ğ°Ğ¹Ğ»**: `src/hooks/useChannels.ts`

Ğ Ğ°ÑÑˆĞ¸Ñ€Ğ¸Ñ‚ÑŒ `DatabaseChannel` Ğ¸ Ğ¼Ğ°Ğ¿Ğ¿Ğ¸Ğ½Ğ³:

```typescript
interface DatabaseChannel {
  // ... existing
  recent_posts_stats: { messageId: number; views: number; date: string }[] | null;
  language_stats: { language: string; percentage: number }[] | null;
  premium_percentage: number | null;
}

function mapDatabaseToChannel(dbChannel: DatabaseChannel): Channel {
  return {
    // ... existing
    recentPostsStats: dbChannel.recent_posts_stats || [],
    languageStats: dbChannel.language_stats || [],
    premiumPercentage: dbChannel.premium_percentage,
  };
}
```

### Ğ­Ñ‚Ğ°Ğ¿ 6: ĞĞ±Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ `Channel` Ğ¸Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹Ñ

**Ğ¤Ğ°Ğ¹Ğ»**: `src/data/mockChannels.ts`

```typescript
export interface Channel {
  // ... existing
  recentPostsStats?: { messageId: number; views: number; date: string }[];
  languageStats?: { language: string; percentage: number }[];
  premiumPercentage?: number;
  notificationsEnabled?: number;
  statsUpdatedAt?: string;
}
```

## UI Design (Apple Style)

### Ğ¦Ğ²ĞµÑ‚Ğ¾Ğ²Ğ°Ñ ÑÑ…ĞµĞ¼Ğ°
- **Engagement Ñ…Ğ¾Ñ€Ğ¾ÑˆĞ¸Ğ¹ (>20%)**: `#34C759` (Ğ·ĞµĞ»ĞµĞ½Ñ‹Ğ¹)
- **Engagement ÑÑ€ĞµĞ´Ğ½Ğ¸Ğ¹ (10-20%)**: `#FF9500` (Ğ¾Ñ€Ğ°Ğ½Ğ¶ĞµĞ²Ñ‹Ğ¹)
- **Engagement Ğ½Ğ¸Ğ·ĞºĞ¸Ğ¹ (<10%)**: `#FF3B30` (ĞºÑ€Ğ°ÑĞ½Ñ‹Ğ¹)
- **ĞÑĞ½Ğ¾Ğ²Ğ½Ğ¾Ğ¹ Ğ°ĞºÑ†ĞµĞ½Ñ‚**: `#007AFF` (ÑĞ¸Ğ½Ğ¸Ğ¹)

### ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹

#### Engagement Rate Card
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“Š Engagement Rate         â”‚
â”‚                             â”‚
â”‚      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘     â”‚
â”‚          36.5%              â”‚
â”‚                             â”‚
â”‚  âœ“ ĞÑ‚Ğ»Ğ¸Ñ‡Ğ½Ñ‹Ğ¹ Ğ¿Ğ¾ĞºĞ°Ğ·Ğ°Ñ‚ĞµĞ»ÑŒ      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Recent Posts Chart
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ‘ ĞŸÑ€Ğ¾ÑĞ¼Ğ¾Ñ‚Ñ€Ñ‹ Ğ¿Ğ¾ÑÑ‚Ğ¾Ğ²        â”‚
â”‚                             â”‚
â”‚  â–“â–“â–“â–“  â–“â–“â–“  â–“â–“â–“â–“â–“  â–“â–“â–“â–“    â”‚
â”‚  15K   12K   18K   16K      â”‚
â”‚                             â”‚
â”‚  Ğ¡Ñ€ĞµĞ´Ğ½ĞµĞµ: 15.2K             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Language Distribution
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸŒ Ğ¯Ğ·Ñ‹ĞºĞ¸ Ğ°ÑƒĞ´Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ¸         â”‚
â”‚                             â”‚
â”‚  Ğ ÑƒÑÑĞºĞ¸Ğ¹   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 78% â”‚
â”‚  English   â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 15% â”‚
â”‚  Other     â–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  7% â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ĞĞ³Ñ€Ğ°Ğ½Ğ¸Ñ‡ĞµĞ½Ğ¸Ñ Ğ¸ Fallback

1. **Ğ•ÑĞ»Ğ¸ ĞºĞ°Ğ½Ğ°Ğ» Ğ¿Ñ€Ğ¸Ğ²Ğ°Ñ‚Ğ½Ñ‹Ğ¹**: Ğ²ĞµĞ±-ÑĞºÑ€Ğ°Ğ¿Ğ¸Ğ½Ğ³ Ğ½Ğµ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ â†’ Ğ¿Ğ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°ĞµĞ¼ "Ğ¡Ñ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ° Ğ½ĞµĞ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ğ° Ğ´Ğ»Ñ Ğ¿Ñ€Ğ¸Ğ²Ğ°Ñ‚Ğ½Ñ‹Ñ… ĞºĞ°Ğ½Ğ°Ğ»Ğ¾Ğ²"

2. **Ğ•ÑĞ»Ğ¸ Ğ¼Ğ°Ğ»Ğ¾ Ğ¿Ğ¾ÑÑ‚Ğ¾Ğ²**: ĞµÑĞ»Ğ¸ Ğ½Ğ°Ğ¹Ğ´ĞµĞ½Ğ¾ < 3 Ğ¿Ğ¾ÑÑ‚Ğ¾Ğ² â†’ Ğ¿Ğ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°ĞµĞ¼ Ğ¿Ñ€ĞµĞ´ÑƒĞ¿Ñ€ĞµĞ¶Ğ´ĞµĞ½Ğ¸Ğµ "ĞĞµĞ´Ğ¾ÑÑ‚Ğ°Ñ‚Ğ¾Ñ‡Ğ½Ğ¾ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ´Ğ»Ñ Ñ€Ğ°ÑÑ‡ĞµÑ‚Ğ° ER"

3. **Ğ¯Ğ·Ñ‹ĞºĞ¾Ğ²Ğ°Ñ ÑÑ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ°**: Ñ‡ĞµÑ€ĞµĞ· Bot API Ğ½ĞµĞ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ğ° â†’ Ğ¿Ğ¾ĞºĞ° Ğ¾ÑÑ‚Ğ°Ğ²Ğ»ÑĞµĞ¼ ĞºĞ°Ğº `null` Ğ¸Ğ»Ğ¸ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµĞ¼ mockĞ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ñ Ğ¿Ğ¾Ğ¼ĞµÑ‚ĞºĞ¾Ğ¹ "ĞŸÑ€Ğ¸Ğ¼ĞµÑ€Ğ½Ñ‹Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ"

4. **Premium Ğ¿Ñ€Ğ¾Ñ†ĞµĞ½Ñ‚**: Ğ½ĞµĞ´Ğ¾ÑÑ‚ÑƒĞ¿ĞµĞ½ Ñ‡ĞµÑ€ĞµĞ· Bot API â†’ Ğ¿Ğ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°ĞµĞ¼ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ ĞµÑĞ»Ğ¸ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ ĞµÑÑ‚ÑŒ

## Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚ Ğ´Ğ»Ñ ĞºĞ¾Ğ½ĞºÑƒÑ€ÑĞ°

- âœ… **Subscribers** â€” Ğ¸Ğ· Telegram API (`getChatMemberCount`)
- âœ… **Average Views** â€” Ğ²Ñ‹Ñ‡Ğ¸ÑĞ»ĞµĞ½Ğ¾ Ğ¸Ğ· Ğ¿Ğ¾ÑĞ»ĞµĞ´Ğ½Ğ¸Ñ… 10 Ğ¿Ğ¾ÑÑ‚Ğ¾Ğ² (ÑĞºÑ€Ğ°Ğ¿Ğ¸Ğ½Ğ³ t.me)
- âœ… **Engagement Rate** â€” Ğ²Ñ‹Ñ‡Ğ¸ÑĞ»ĞµĞ½Ğ¾: `avgViews / subscribers Ã— 100%`
- âš ï¸ **Language charts** â€” Ñ‚Ñ€ĞµĞ±ÑƒĞµÑ‚ MTProto API (Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ Ğ¿Ğ¾ĞºĞ°Ğ·Ğ°Ñ‚ÑŒ placeholder)
- âš ï¸ **Premium stats** â€” Ñ‚Ñ€ĞµĞ±ÑƒĞµÑ‚ MTProto API (Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ Ğ¿Ğ¾ĞºĞ°Ğ·Ğ°Ñ‚ÑŒ placeholder)
- âœ… **Recent posts views** â€” Ğ²Ğ¸Ğ·ÑƒĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ±Ğ°Ñ€Ñ‡Ğ°Ñ€Ñ‚Ğ¾Ğ¼

Ğ’ÑĞµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ²ĞµÑ€Ğ¸Ñ„Ğ¸Ñ†Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ñ‹ Ğ½Ğ°Ğ¿Ñ€ÑĞ¼ÑƒÑ Ğ¸Ğ· Telegram, Ñ‡Ñ‚Ğ¾ ÑĞ¾Ğ¾Ñ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²ÑƒĞµÑ‚ Ñ‚Ñ€ĞµĞ±Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ "Verified channel stats (from Telegram)".

