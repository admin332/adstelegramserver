
## Показывать точные проценты языков (до 2 знаков)

Сейчас проценты языков округляются до целых чисел, поэтому 0.12% становится 0%. Нужно исправить расчёт и отображение.

---

## Что нужно сделать

### 1. Изменить расчёт в Edge Function

**Текущая логика (округление до целых):**
```typescript
percentage: total > 0 ? Math.round((l.value || 0) / total * 100) : 0
```

**Новая логика (2 знака после запятой):**
```typescript
percentage: total > 0 ? Math.round((l.value || 0) / total * 10000) / 100 : 0
```

Это даст результаты вида: `55.23`, `0.12`, `0.05` вместо `55`, `0`, `0`.

### 2. Обновить отображение на фронтенде

Добавить умное форматирование:
- Если процент >= 1% — показывать без десятичных (`55%`)
- Если процент < 1% и > 0 — показывать 2 знака (`0.12%`)
- Если ровно 0 — показывать `<0.01%`

### 3. Обновить данные канала

После деплоя сбросить `stats_updated_at` для @slixone чтобы пересчитать проценты.

---

## Файлы для изменения

| Файл | Изменение |
|------|-----------|
| `supabase/functions/refresh-channel-stats/index.ts` | Изменить округление: `Math.round(...*10000)/100` |
| `supabase/functions/verify-channel/index.ts` | То же самое (там дублируется логика) |
| `src/components/channel/ChannelAnalytics.tsx` | Умное форматирование процентов |

---

## Пример результата

**До:** Czech 0%, German 0%, French 0%

**После:** Czech 0.34%, German 0.12%, French <0.01%
